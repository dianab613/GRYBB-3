<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
<head>
	<link rel="stylesheet" href="login.css">
	<title> Employee Login </title>
</head>
<body>
<img src="../Images/logo.png" alt="Grybb Logo">
<div class="banner-text">
	<p style="line-height:60px; text-align: center; font-size: 150%; color: #414042;  font-family: Tahoma, sans-serif;	">
	<b> EMPLOYEE PORTAL </b></p>
	<form target="useless" method="post">
		<input type="text" placeholder="Enter Username" name="uname" required>
		<br>
		<br>
		<input id="myInput" type="password" placeholder="Enter Password" name="psw" required>
    	<br>
		<br>
		
		<button class="btn showpsw" type="button" onclick="showpass()">Show Password</button>
		<button class="btn forgotpsw" type="button" onclick="document.location= 'passwordrecovery-employee.html'" ><i><u>Forgot Password?</u></i></button>
		<iframe name="useless" style="display: none;"></iframe>
		<script>
			function showpass() {
				let x = document.getElementById("myInput");
				if (x.type === "password") {
					x.type = "text";
				} else {
					x.type = "password";
				}
			}
		</script>
	<br>
	<br>
	<button type="submit" onsubmit="validatePass()">Login</button>
	<br>
		<script>
			function validatePass(){
				let httpr = new XMLHttpRequest();
				httpr.onreadystatechange = function(){
					if (this.readyState === 4 && this.status === 200){
						alert(this.response);
							if (this.response === "true")
						window.location.replace("/employee_portal.html")
					}
				};
				httpr.open("POST", "/RESTlogin", true);
				httpr.setRequestHeader("Content-type", "application/json");
				let uname = document.getElementById("UserNameInput");
				let pword = document.getElementById("myInput");
				let JSONtext = {
					"username" : uname,
					"password" : pword
				};
				httpr.send(JSON.stringify(JSONtext))
			}
		</script>
	<br>
	<p style="text-align: center; font-size: 85%; color:black; font-family: Tahoma, sans-serif;"> Not a member? </p>
	<a style="	line-height:0%; text-align: center; font-size: 85%; font-family: Tahoma, sans-serif; ">
	<a href="signupform-employee.html"><i><u> Create an account </u></i></a>
	<br style="line-height:2%;">
	</form>
</div>
</body>
</html>