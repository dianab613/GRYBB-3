<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
<head>
	<link rel="stylesheet" href="login.css">
	<title> Login </title>
</head>
<body>
<img src="logo.png" alt="Grybb Logo">
<div class="banner-text">
	<p style="line-height:60px; text-align: center; font-size: 150%; color: #414042;  font-family: Tahoma, sans-serif;	">
	<b> LOGIN </b></p>
	<form method="post">
		<input type="text" placeholder="Enter Username" id="loginuname" required>
		<br>
		<br>
		<input id="myInput" type="password" placeholder="Enter Password" name="psw" required>
    	<br>
		<br>
		 
		<button class="btn showpsw" type="button" onclick="showpass()">Show Password</button>
		<button class="btn forgotpsw" type="button" onclick="document.location= 'passwordrecovery.html'" ><i><u> Forgot Password? </u></i></button>
		
		<script>
			function showpass() {
				var x = document.getElementById("myInput");
				if (x.type == "password") {
					x.type = "text";
				} else {
					x.type = "password";
				}
			}
		</script>
		
		<script>
			function validate(ev) {
				ev.preventDefault();
				var username = document.getElementById("loginuname").value;
				var password = document.getElementById("myInput").value;
				var passw = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;
				if ( username.match("@municipality.com") && password.match(passw)){
					window.location = "municipality_portal.html";
					return true;
				} else if(username.match("@management.com")&& password.match(passw)){
					window.location = "manager_portal_statistics.html";
					return true;
				} else if(username.match("@employee.com")&& password.match(passw)){
					window.location = "employee_portal_map.html";
					return true;
				}


				if ((!username.match("@municipality.com")&& password.match(passw)) || (!username.match("@management.com")&& password.match(passw)) || (!username.match("@employee.com")&& password.match(passw))){
					window.alert("The email address is incorrect\nPlease try again!");
					return false;
				} else if ((username.match("@municipality.com")&& !password.match(passw)) || (username.match("@management.com")&& !password.match(passw)) || (username.match("@employee.com")&& !password.match(passw)) ){
					window.alert("The password is incorrect!\nPlease try again!");
					return false;
				} else if((!username.match("@municipality.com")&& !password.match(passw)) || (!username.match("@management.com")&& !password.match(passw)) || (!username.match("@employee.com")&& !password.match(passw)) ){
					window.alert("Both email address and password are wrong!\nPlease try again!");
					return false;
				}
			}
		</script>
	<br>
	<br>
	<button type="submit" onclick="validate(event)">Login</button>
	<br>
	<br>
	<p style="text-align: center; font-size: 85%; color:black; font-family: Tahoma, sans-serif;"> Not a member? </p>
	<a href="signupform.html">
		<p style="line-height:0%; text-align: center; font-size: 85%; font-family: Tahoma, sans-serif; "><i> Create an account </i></p>
	</a>
	<br style="line-height:0%;">
	</form>
</div>
</body>
</html>